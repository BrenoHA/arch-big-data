cd kappa
docker-compose up -d

cd ../producer
docker-compose up -d

docker buildx prune -f

docker exec -ti producer bash
    cd app/; python get-weather-data.py

docker exec -ti spark-master bash
    cd ../spark-apps # Runs inside the terminal of the previous cmd
    python3 create_structure_cassandra.py # Runs inside the terminal of the previous cmd
    # to check if cassandra IP is correct:
    # docker network inspect mynetwork # Runs inside the terminal of the previous cmd

# Runs inside the terminal of the previous cmd
spark-submit \
--packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.5.1,com.datastax.spark:spark-cassandra-connector_2.12:3.5.0 \
--conf spark.cassandra.connection.host=cassandra1 \
--conf spark.cassandra.connection.port=9042 \
data-pipeline-streaming_cassandra.py kafka-weather-events


docker exec -ti cassandra1 bash
    cqlsh # Runs inside the terminal of the previous cmd

    select * from weather_keyspace.weather_table ; # Runs inside the terminal of the previous cmd
